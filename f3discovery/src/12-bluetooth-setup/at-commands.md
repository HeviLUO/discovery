## AT 命令

蓝牙模块和F3需要配置为以相同的波特率进行通信。教程代码将UART1串行设备初始化为115200的波特率。默认情况下，HC-05蓝牙模块配置为9600的波特率。

蓝牙模块支持AT模式，允许您检查和更改其配置和设置。要使用AT模式，请将蓝牙模块连接到F3和FTDI，如下图所示。

<p>
<img height=640 title="Bluetooth <-> Serial connection" src="../assets/bluetooth-serial.png">
</p>

进入AT模式的建议步骤：

- 断开F3和FTDI与计算机的连接。
- 使用母/母（F/F）线（最好是黑色线）将F3的GND引脚连接到蓝牙的GND插针。
- 使用F/F线（最好是红色线）将F3的5V引脚连接到蓝牙的VCC引脚。
- 使用母/公（F/M）导线将FTDI RXI引脚连接到蓝牙的TXD引脚。
- 使用母/公（F/M）导线将FTDI TXO引脚连接到蓝牙的RXD引脚。
- 现在通过USB电缆将FTDI连接到计算机。
- 然后通过USB电缆将F3连接到计算机，同时按住蓝牙模块上的按钮（有点棘手）。
- 现在，松开按钮，蓝牙模块将进入AT模式。您可以通过观察蓝牙模块上的红色LED以缓慢模式闪烁（约1-2秒打开/关闭）来确认这一点。

AT模式始终以38400的波特率运行，因此请为该波特率配置终端程序并连接到FTDI设备。

建立串行连接后，可能会重复显示一组`ERROR: (0)`。如果发生这种情况，只需按ENTER键停止错误。

### 完整性检查

```
$ at
OK
OK
(etc...)
```

重复回答`OK`，直到再次按下ENTER键

### 重命名设备

```
$ at+name=ferris
OK
```

### 查询蓝牙模块的当前波特率

```
at+uart?
+UART:9600,0,0
OK
+UART:9600,0,0
OK
(etc ...)
```

### 更改波特率

```
$ at+uart=115200,0,0
OK
```
