# 串口通讯

<a href="https://en.wikipedia.org/wiki/File:Serial_port.jpg">
<p>
<img height="240" title="Standard serial port connector DE-9" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Serial_port.jpg/800px-Serial_port.jpg">
</p>
</a>

<p>
<em>这是我们将要使用的。我希望你的电脑有一个！</em>
</p>

不，别担心。这个连接器DE-9在电脑上很早就过时了；它被通用串行总线(USB)所取代。
我们不会处理DE-9连接器本身，而是处理该电缆通常用于的通信协议。

这是什么[*串口通信*][ASC]？ 这是一种*异步*通信协议，两个设备使用两条数据线（加上一个公共地线）*串行*交换数据，
该协议是异步的，因为共享线路都不携带时钟信号。相反，在通信发生*之前*，双方必须就数据沿线路发送的速度达成一致。
该协议允许*双工通信*，因为数据可以同时从A发送到B和从B发送到A。

我们将使用此协议在微控制器和计算机之间交换数据。与我们以前使用的ITM协议不同，通过串行通信协议，您可以将数据从计算机发送到微控制器。

你可能想问的下一个实际问题是：我们能以多快的速度发送数据协议？

此协议适用于帧。每个帧有一个*起始*bit，5到9 bits的有效载荷（数据）和1到2个*stop bits*。
协议的速度称为*波特率*，以bits每秒（bps）为单位。常用波特率为：9600, 19200, 38400, 57600 和 115200 bps。

实际上，要回答这个问题：使用 1个起始bit, 8个数据bits，1个stop bit和115200 bps的波特率的通用配置，理论上每秒可以发送11520帧。
因为每一帧携带一字节的数据，导致数据速率为11.52 KB/s。实际上，由于通信（微控制器）较慢侧的处理时间，数据速率可能会更低。

今天的计算机不支持串行通信协议。因此，您不能将计算机直接连接到微控制器。但这就是串行模块的作用所在。
该模块将位于两者之间，并为微控制器提供串行接口，为计算机提供USB接口。
微控制器会将您的计算机视为另一个串行设备，而您的计算机会将微控制器视为虚拟串行设备。

现在，让我们熟悉您的操作系统中的串行模块和串行通信工具。选择路线：

- [\*nix](nix-tooling.md)
- [Windows](windows-tooling.md)

[ASC]: https://en.wikipedia.org/wiki/Asynchronous_serial_communication
